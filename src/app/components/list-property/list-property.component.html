<section class="ct_hero_banner" style="background-image: url(img/list_property_bg.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="ct_banner_title">
          <h2 class="ct_fs_55 text-white ct_ff_ppneuemontreal-medium" style="max-width: 542px">
            {{ "TurnYour" | translate }}
            <img src="img/home_icon.png" height="58px" />
            {{ "SpaceIntoIncome" | translate }}
          </h2>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="mt-5">
  <div class="container">
    <div class="row ct_w_100_991 ct_flex_col_991">
      <div class="col-md-12">
        <div class="d-flex align-items-center gap-3 ct_flex_col_991 ct_w_100_991">
          <app-search class="ct_w_100_991"></app-search>
          <button class="ct_filter_btn ct_white_nowrap ct_ff_ppneuemontreal-book ct_w_100_991" data-bs-target="#ct_filter_modal"
            data-bs-toggle="modal">
            <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5.21165 2.4852V6.29425e-05H4.47331V2.4852C3.92106 2.52122 3.41983 2.68929 2.96962 2.98943C2.51942 3.28957 2.16226 3.67674 1.89813 4.15096C1.63401 4.62518 1.50195 5.13541 1.50195 5.68166C1.50195 6.22791 1.63401 6.73814 1.89813 7.21236C2.16226 7.68658 2.51942 8.07376 2.96962 8.37389C3.41983 8.67403 3.92106 8.84211 4.47331 8.87812V18.0083H5.21165V8.87812C5.7639 8.84211 6.26513 8.67403 6.71534 8.37389C7.16554 8.07376 7.52271 7.68658 7.78683 7.21236C8.05095 6.73814 8.18301 6.22791 8.18301 5.68166C8.18301 5.13541 8.05095 4.62518 7.78683 4.15096C7.52271 3.67674 7.16554 3.28957 6.71534 2.98943C6.26513 2.68929 5.7639 2.52122 5.21165 2.4852ZM4.83348 8.15779C4.32925 8.15779 3.86703 8.01673 3.44684 7.7346C3.02665 7.45247 2.72051 7.0803 2.52842 6.61809C2.33633 6.15588 2.29131 5.67866 2.39336 5.18644C2.49541 4.69421 2.72651 4.27102 3.08668 3.91685C3.44684 3.56269 3.87304 3.33759 4.36526 3.24155C4.85749 3.1455 5.33471 3.19352 5.79692 3.38561C6.25913 3.5777 6.6283 3.88384 6.90442 4.30403C7.18055 4.72422 7.31861 5.18644 7.31861 5.69067C7.31861 6.13487 7.20456 6.54606 6.97646 6.92423C6.74835 7.3024 6.44521 7.60254 6.06704 7.82464C5.68887 8.04674 5.27768 8.15779 4.83348 8.15779ZM13.7476 9.13024V6.29425e-05H12.9912V9.13024C12.439 9.16626 11.9377 9.33433 11.4875 9.63447C11.0373 9.93461 10.6802 10.3218 10.416 10.796C10.1519 11.2702 10.0198 11.7805 10.0198 12.3267C10.0198 12.873 10.1519 13.3832 10.416 13.8574C10.6802 14.3316 11.0373 14.7188 11.4875 15.0189C11.9377 15.3191 12.439 15.4871 12.9912 15.5232V18.0083H13.7476V15.5232C14.2998 15.4871 14.801 15.3191 15.2512 15.0189C15.7014 14.7188 16.0586 14.3316 16.3227 13.8574C16.5869 13.3832 16.7189 12.873 16.7189 12.3267C16.7189 11.7805 16.5869 11.2702 16.3227 10.796C16.0586 10.3218 15.7014 9.93461 15.2512 9.63447C14.801 9.33433 14.2998 9.16626 13.7476 9.13024ZM13.3694 14.8028C12.9252 14.8028 12.511 14.6918 12.1268 14.4697C11.7426 14.2476 11.4395 13.9444 11.2174 13.5603C10.9953 13.1761 10.8842 12.7619 10.8842 12.3177C10.8842 11.8735 10.9953 11.4593 11.2174 11.0751C11.4395 10.691 11.7426 10.3878 12.1268 10.1657C12.511 9.94361 12.9252 9.83256 13.3694 9.83256C13.8136 9.83256 14.2278 9.94361 14.6119 10.1657C14.9961 10.3878 15.2993 10.691 15.5214 11.0751C15.7435 11.4593 15.8545 11.8735 15.8545 12.3177C15.8545 12.7619 15.7435 13.1761 15.5214 13.5603C15.2993 13.9444 14.9961 14.2476 14.6119 14.4697C14.2278 14.6918 13.8136 14.8028 13.3694 14.8028Z"
                fill="black" />
            </svg>
            Filters
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="mt-5">
  <div class="container">
    <!-- <h2 class="ct_fs_26 ct_ff_ppneuemontreal-medium ct_mb_30">
      Premium apartments in Málaga
    </h2> -->
    <div class="row">
      <div class="col-lg-4 col-md-6 mb-4" *ngFor="let item of propertyList">
        <figure class="ct_product_card">
          <div class="ct_product_img">
            <img [src]="item?.image ? item?.image : 'img/product_img_11.jpg'" alt="" />
          </div>
          <figcaption>
            <a [routerLink]="['/view-property']" [queryParams]="{propertyId: item.property_id}">
              <h4 class="ct_fs_20 ct_ff_PPEditorialNew_Regular mb-2 text-truncate">
                {{item?.property_name}}
              </h4>
            </a>
            <p class="ct_fs_14 ct_ff_ppneuemontreal-book mb-1">
              From €{{item?.monthly_rent}}/month
            </p>
            <div class="d-flex align-items-center justify-content-between gap-2">
              <p class="mb-0 ct_fs_14 ct_ff_ppneuemontreal-book ct_overlay_text d-inline-block">
                {{item?.address}}
              </p>
              <span class="ct_aval_badge ct_ff_ppneuemontreal-book ct_white_nowrap">Avail. {{item?.available_from |
                date:'dd-MMM-yyyy'}}</span>
            </div>
            <div class="ct_product_btm_div">
              <p class="mb-0 ct_ff_ppneuemontreal-book ct_fs_14">{{item?.total_bedrooms}} beds.</p>
              <p class="mb-0 ct_ff_ppneuemontreal-book ct_fs_14">
                {{item?.property_type}}
              </p>
              <p class="mb-0 ct_ff_ppneuemontreal-book ct_fs_14">{{item?.total_bathrooms}} baths.</p>
            </div>
          </figcaption>
        </figure>
      </div>
    </div>
    <div class="col-md-12">
      <div class="ct_no_recod_found_bg" *ngIf="propertyList?.length == 0">
        <p class="text-center mb-0 ct_fs_20">No data found</p>
      </div>
    </div>
  </div>
</section>

<!-- Modal -->
<div class="modal fade" id="ct_filter_modal" tabindex="-1" aria-labelledby="ct_filter_modalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title ct_fs_24 ct_ff_ppneuemontreal-medium text-center ct_flex_1" id="ct_filter_modalLabel">
          Filters
        </h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12">
            <div class="form-group mb-4">
              <label for="" class="mb-2 ct_ff_ppneuemontreal-medium ct_fs_18 d-flex align-items-center">
                <span class="ct_num_count_22">1</span>Price Range</label>
              <div class="slider-container">
                <nz-slider [nzTooltipVisible]="'never'" nzRange [nzStep]="1000" [nzMin]="0" [nzMax]="100000"
                  [(ngModel)]="priceRange" [ngModelOptions]="{standalone: true}"></nz-slider>
                <div class="d-flex align-items-center justify-content-between mt-1 gap-3 mt-4">
                  <div class="form-group w-100">
                    <label for="" class="ct_fs_14 ct_text_929292 ct_ff_ppneuemontreal-book mb-1">Minimum Price</label>
                    <input type="number" class="form-control ct_input ct_h_44   py-1 ct_ff_ppneuemontreal-book"
                      placeholder="Min" [(ngModel)]="priceRange[0]" [ngModelOptions]="{standalone: true}" />
                  </div>
                  <div class="form-group w-100">
                    <label for="" class="ct_fs_14 ct_text_929292 ct_ff_ppneuemontreal-book mb-1">Maximum Price</label>
                    <input type="number" class="form-control ct_input ct_h_44  py-1 ct_ff_ppneuemontreal-book"
                      placeholder="Max" [(ngModel)]="priceRange[1]" [ngModelOptions]="{standalone: true}" />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group mb-4">
              <label for="" class="mb-2 ct_ff_ppneuemontreal-medium ct_fs_18 d-flex align-items-center">
                <span class="ct_num_count_22">2</span>Property Type</label>
              <select class="form-control ct_input ct_h_44 ct_fs_16  py-1 ct_ff_ppneuemontreal-book" [(ngModel)]="propertyId">
                <option class="ct_ff_ppneuemontreal-book ct_fs_16" value="" disabled>Select Type</option>
                <option class="ct_ff_ppneuemontreal-book ct_fs_16" value="">All</option>
                <option class="ct_ff_ppneuemontreal-book ct_fs_16" *ngFor="let member of propertyTypes" [value]="member.property_type_id">
                  {{ member.name }}
                </option>
              </select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group mb-4">
              <label for="" class="mb-2 ct_ff_ppneuemontreal-medium ct_fs_18 d-flex align-items-center">
                <span class="ct_num_count_22">3</span>Bedrooms</label>
              <select class="form-control ct_input ct_h_44 ct_fs_16  py-1 ct_ff_ppneuemontreal-book" [(ngModel)]="noOfBedrooms">
                <option class="ct_ff_ppneuemontreal-book" value="1">1+</option>
                <option class="ct_ff_ppneuemontreal-book" value="2">2+</option>
                <option class="ct_ff_ppneuemontreal-book" value="3">3+</option>
              </select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group mb-4">
              <label for="" class="mb-2 ct_ff_ppneuemontreal-medium ct_fs_18 d-flex align-items-center">
                <span class="ct_num_count_22">4</span>Bathrooms</label>
              <select class="form-control ct_input ct_h_44 ct_fs_16  py-1 ct_ff_ppneuemontreal-book" [(ngModel)]="noOfBathrooms">
                <option class="ct_ff_ppneuemontreal-book" value="1">1+</option>
                <option class="ct_ff_ppneuemontreal-book" value="2">2+</option>
                <option class="ct_ff_ppneuemontreal-book" value="3">3+</option>
              </select>
            </div>
          </div>

          <div class="col-md-12">
            <div class="form-group mb-4">
              <label for="" class="mb-0 ct_ff_ppneuemontreal-medium ct_fs_18 d-flex align-items-center">
                <span class="ct_num_count_22">5</span>Ameneties</label>
              <ul class="ct_para_scroll ct_custom_scroll d-flex align-items-center flex-wrap" style="gap: 0px 20px">
                <li class="ct_mt_15" *ngFor="let item of allAmenity;">
                  <div class="form-check ct_custom_check2">
                    <!-- <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" /> -->
                    <input class="form-check-input" type="checkbox"
                      [checked]="selectedAmenityIds.includes(item.amenity_id)" [id]="'amenity_' + item.amenity_id"
                      (change)="onAmenityChange($event, item.amenity_id)" />
                    <label class="ct_ff_ppneuemontreal-book ms-1 ct_fs_16" [for]="'amenity_' + item.amenity_id">
                      {{ item.name }}
                    </label>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button #closeModal type="button" class="ct_outline_btn ct_border_radius_5 ct_h_44" data-bs-dismiss="modal">
          Close
        </button>
        <button (click)="applyFilter()" type="button" class="ct_black_btn ct_border_radius_5 ct_h_44">
          Apply Filters
        </button>
      </div>
    </div>
  </div>
</div>